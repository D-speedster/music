# 🚀 راهنمای راه‌اندازی ربات موزیک تلگرام

## ✅ وضعیت پروژه
پروژه شما کاملاً آماده است! تمام فایل‌ها و ساختار پروژه به درستی ایجاد شده‌اند.

## 📋 مراحل راه‌اندازی

### مرحله 1: نصب وابستگی‌ها
```bash
pip install -r requirements.txt
```

### مرحله 2: تنظیم فایل .env
فایل `.env` را ویرایش کنید و اطلاعات زیر را وارد کنید:

```env
# توکن ربات تلگرام (از @BotFather دریافت کنید)
BOT_TOKEN=your_telegram_bot_token_here

# شناسه کاربری ادمین (شناسه تلگرام شما)
ADMIN_USER_ID=your_telegram_user_id

# حداکثر حجم فایل (بایت) - پیش‌فرض: 50MB
MAX_FILE_SIZE=52428800

# پوشه‌های موقت و خروجی
TEMP_DIR=temp
OUTPUT_DIR=output
```

### مرحله 3: دریافت توکن ربات
1. به [@BotFather](https://t.me/botfather) در تلگرام مراجعه کنید
2. دستور `/newbot` را ارسال کنید
3. نام و نام کاربری ربات را انتخاب کنید
4. توکن دریافتی را در فایل `.env` قرار دهید

### مرحله 4: پیدا کردن شناسه کاربری
1. به [@userinfobot](https://t.me/userinfobot) مراجعه کنید
2. دستور `/start` را ارسال کنید
3. شناسه کاربری خود را در فایل `.env` قرار دهید

### مرحله 5: نصب FFmpeg (اختیاری - برای تبدیل فرمت)
#### Windows:
- از [FFmpeg.org](https://ffmpeg.org/download.html) دانلود کنید
- یا با Chocolatey: `choco install ffmpeg`

#### Linux:
```bash
sudo apt update
sudo apt install ffmpeg
```

### مرحله 6: اجرای ربات
```bash
python bot.py
```

یا استفاده از فایل batch:
```bash
run.bat
```

## 🎯 امکانات ربات

### امکانات اصلی
- ✅ آپلود و پردازش فایل‌های صوتی (MP3, FLAC, WAV, M4A, OGG, AAC)
- ✅ ویرایش تگ‌های ID3 (نام، هنرمند، آلبوم، ژانر، سال، شماره ترک)
- ✅ مدیریت کاور آلبوم (اضافه، حذف، جایگزینی، استخراج)
- ✅ نام‌گذاری سفارشی با قالب‌های مختلف
- ✅ تبدیل فرمت و تنظیم کیفیت

### امکانات پیشرفته
- ✅ پردازش دسته‌ای چندین فایل
- ✅ آمار کاربری و سیستم
- ✅ پنل مدیریت با کنترل محدودیت‌ها
- ✅ بهینه‌سازی سرعت و حافظه

## 🎮 دستورات ربات

| دستور | توضیح |
|--------|-------|
| `/start` | شروع و نمایش منوی اصلی |
| `/batch` | پردازش دسته‌ای فایل‌ها |
| `/stats` | نمایش آمار شخصی |
| `/admin` | پنل مدیریت (فقط ادمین) |
| `/help` | راهنمای کامل |

## 🔧 عیب‌یابی

### مشکلات رایج

#### خطای "ModuleNotFoundError"
```bash
pip install -r requirements.txt
```

#### خطای "Invalid token"
- توکن ربات را در فایل `.env` بررسی کنید
- مطمئن شوید فاصله اضافی وجود ندارد

#### خطای FFmpeg
- FFmpeg را نصب کنید (فقط برای تبدیل فرمت لازم است)
- مسیر FFmpeg را به PATH سیستم اضافه کنید

#### مشکل حافظه
- حجم فایل‌ها را کاهش دهید
- `MAX_FILE_SIZE` را در `.env` تنظیم کنید

## 📊 نظارت و آمار

### آمار کاربری
- تعداد فایل‌های پردازش شده
- حجم کل داده‌ها
- آخرین فعالیت

### آمار سیستم (ادمین)
- تعداد کل کاربران
- فایل‌های پردازش شده امروز
- کاربران فعال
- محبوب‌ترین فرمت‌ها

## 🛡️ امنیت

### نکات مهم
- ✅ هرگز توکن ربات را به اشتراک نگذارید
- ✅ فایل‌های موقت خودکار پاک می‌شوند
- ✅ محدودیت‌های کاربری قابل تنظیم
- ✅ لاگ‌گیری تمام فعالیت‌ها

## 🚀 بهینه‌سازی عملکرد

### تنظیمات پیشنهادی
```env
# برای سرور قدرتمند
MAX_FILE_SIZE=104857600  # 100MB

# برای سرور محدود
MAX_FILE_SIZE=26214400   # 25MB
```

### نکات عملکرد
- پردازش موازی فایل‌ها
- مدیریت هوشمند حافظه
- پاک‌سازی خودکار فایل‌های موقت
- کش کردن متادیتا

## 📞 پشتیبانی

اگر مشکلی داشتید:
1. فایل `simple_test.py` را اجرا کنید
2. لاگ‌های خطا را بررسی کنید
3. تنظیمات `.env` را چک کنید
4. نسخه پایتون را بررسی کنید (3.8+)

## 🎉 تبریک!

ربات موزیک تلگرام شما آماده استفاده است! 
با امکانات کامل و عملکرد بهینه، حالا می‌توانید فایل‌های صوتی خود را به راحتی ویرایش کنید.

---
**نکته**: این ربات برای استفاده شخصی طراحی شده است. از قوانین کپی‌رایت پیروی کنید.